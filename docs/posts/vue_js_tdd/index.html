<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Formation Vue.JS &#43; TDD :: hack.courses</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Contenu de formation : Comment réaliser un projet Vue.js en TDD ?" />
<meta name="keywords" content="vue.js, programmation" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/vue_js_tdd/" />




<link rel="stylesheet" href="/assets/style.css">

  <link rel="stylesheet" href="/assets/blue.css">






<link rel="apple-touch-icon" href="/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/img/favicon/blue.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="https://fenrir.pro" />
  
    <meta name="twitter:creator" content="lp1dev" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Formation Vue.JS &#43; TDD">
<meta property="og:description" content="Contenu de formation : Comment réaliser un projet Vue.js en TDD ?" />
<meta property="og:url" content="/posts/vue_js_tdd/" />
<meta property="og:site_name" content="hack.courses" />

  <meta property="og:image" content="/">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-11-16 13:19:38 &#43;0100 CET" />












</head>
<body class="blue">


<div class="container full headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/posts/home">
  <div class="logo">
    hack.courses
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/posts/home">About</a></li>
        
      
        
          <li><a href="/posts/classes">Free Courses</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/posts/home">About</a></li>
      
    
      
        <li><a href="/posts/classes">Free Courses</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/posts/vue_js_tdd/">Formation Vue.JS + TDD</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-11-16 
      </span>
    
    
    <span class="post-author">:: Lp1</span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/tags/vue.js/">vue.js</a>&nbsp;
    
    #<a href="/tags/tdd/">tdd</a>&nbsp;
    
    #<a href="/tags/programmation/">programmation</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h1 id="formation-vuejs">Formation Vue.JS<a href="#formation-vuejs" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<!--![Logo Vue.js](https://vuejs.org/images/logo.png) -->
<p><br/><br/></p>
<h2 id="réaliser-un-projet-vuejs-en-tdd">Réaliser un projet Vue.JS en TDD<a href="#réaliser-un-projet-vuejs-en-tdd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><br/><br/>
<br/><br/></p>
<p>Auteur: <strong>Jérémie Amsellem</strong> // Consultant Sécurité Offensive</p>
<p><a href="https://hack.courses/Programming/Vue.JS"><code>https://hack.courses/Programming/Vue.JS</code> </a></p>
<hr>
<h1 id="le-principe-de-base-du-tdd">Le principe de base du TDD<a href="#le-principe-de-base-du-tdd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Le <strong>TDD</strong> (Test Driven Development) est une manière de développer des logiciels qui met <strong>les tests</strong> (notamment unitaires) <strong>en priorité</strong> par rapport aux premières phases d&rsquo;écriture de code.</p>
<p>On écrit d&rsquo;abord les tests et <strong>ensuite</strong> on commençe à coder les fonctionnalités correspondantes.</p>
<p>Dans une logique métier, en architecturant votre projet vous commençerez par dégager des <strong>besoins</strong> auquel il doit répondre.</p>
<p><strong>Besoins</strong> qui deviendront des <strong>spécifications</strong>, et ces <strong>spécifications</strong> seront prêtes à être énoncée sous forme de <strong>tests</strong>.</p>
<hr>
<h1 id="les-étapes-du-tdd">Les étapes du TDD<a href="#les-étapes-du-tdd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<ul>
<li><strong>1</strong> - Écrire un test</li>
<li><strong>2</strong> - Lancer le test (vérifier qu&rsquo;il échoue)</li>
<li><strong>3</strong> - Écrire le code nécessaire pour que le test passe</li>
<li><strong>4</strong> - Optimiser le code écrit</li>
</ul>
<hr>
<h1 id="les-tests-unitaires">Les Tests Unitaires<a href="#les-tests-unitaires" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="un-test-unitaire-cest-quoi">Un test unitaire c&rsquo;est quoi?<a href="#un-test-unitaire-cest-quoi" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Un <strong>test unitaire</strong> a pour but (comme son nom l&rsquo;indique) de <strong>tester une &ldquo;unité&rdquo; d&rsquo;un programme</strong>.</p>
<p>Ce qu&rsquo;on appelle une &ldquo;unité&rdquo; dans un programme peut être une <strong>méthode, une fonction, une classe, même quelque lignes seulement</strong>&hellip;</p>
<p>Si l'&ldquo;unité&rdquo; qui doit être testée dans un test unitaire n&rsquo;est pas nécessairement définie et que le concept est relatif, le but d&rsquo;un test unitaire est quand à lui assez précis !</p>
<hr>
<h1 id="à-quoi-ça-sert-">À quoi ça sert ?<a href="#à-quoi-ça-sert-" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Le but d&rsquo;un test unitaire est de tester, que pour un paramètre <strong>A</strong> (le paramètre d&rsquo;une fonction, une variable, un évènement), l&rsquo;unité de code testée ait le comportement <strong>B</strong> attendu.</p>
<p>L&rsquo;avantage est de pouvoir s&rsquo;assurer à chacune des étapes du développement que les fonctionnalités du projet sont conformes à la manière dont elles ont été architécturées et également de pouvoir éviter et repérer de nombreuses régressions dans le code !</p>
<hr>
<h1 id="exemple">Exemple<a href="#exemple" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Prenons le cas d&rsquo;une fonction <strong>checkPassword</strong> qui servirait à valider le mot de passe d&rsquo;un utilisateur.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">checkPassword</span>(<span style="color:#a6e22e">password</span>) {
}
</code></pre></div><p>Elle doit lever une exception dans ces conditions :</p>
<ul>
<li>Le mot de passe fait moins de 8 caractères</li>
<li>Le mot de passe est un mot du dictionnaire</li>
<li>Le mot de passe ne comporte que des chiffres</li>
</ul>
<p>Si le mot de passe respecte ces règles, checkPassword devra alors retourner <strong>true</strong>.</p>
<p>Nous pourrions écrire les tests de la manière suivante :</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">&#39;checkPassword&#39;</span>, () =&gt; {
    <span style="color:#75715e">// We start by checking the first rule 
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">it</span>(<span style="color:#e6db74">&#34;shouldn&#39;t allow passwords shorter than 8 chars&#34;</span>, () =&gt; {
    	<span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">checkPassword</span>(<span style="color:#e6db74">&#34;test1&#34;</span>)).<span style="color:#a6e22e">toThrow</span>();
    });
    <span style="color:#75715e">// Then the second one 
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">it</span>(<span style="color:#e6db74">&#34;shouldn&#39;t allow words from the dictionary&#34;</span>, () =&gt; {
    	<span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">checkPassword</span>(<span style="color:#e6db74">&#34;aerodynamic&#34;</span>)).<span style="color:#a6e22e">toThrow</span>();
    });
    <span style="color:#75715e">// And finally the third one
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">it</span>(<span style="color:#e6db74">&#34;shouldn&#39;t allow only numeric passwords&#34;</span>, () =&gt; {
    	<span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">checkPassword</span>(<span style="color:#e6db74">&#34;8008135707&#34;</span>)).<span style="color:#a6e22e">toThrow</span>();
    });
    <span style="color:#75715e">// A valid password should be accepted
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">it</span>(<span style="color:#e6db74">&#34;should return true when a valid password is given&#34;</span>, () =&gt; {
        <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">checkPassword</span>(<span style="color:#e6db74">&#34;g00dP455w0rd!&#34;</span>)).<span style="color:#a6e22e">to</span>.<span style="color:#a6e22e">equal</span>(<span style="color:#66d9ef">true</span>);
    });
})
</code></pre></div><hr>
<h1 id="premier-contact-avec-vuejs">Premier contact avec Vue.js<a href="#premier-contact-avec-vuejs" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="quest-ce-que-vuejs">Qu&rsquo;est-ce que Vue.js<a href="#quest-ce-que-vuejs" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Vue.JS est un <strong>framework Web</strong> qui a été crée en 2017 par <strong>Evan You</strong> (ex Googler).</p>
<p>C&rsquo;est un <strong>logiciel libre</strong> (license <strong>MIT</strong>), qui se veut diffèrer des frameworks front-ends <strong>monolithiques</strong> comme Angular par le fait qu&rsquo;il se limite <strong>exclusivement à la définition et l&rsquo;affichage de composants graphiques</strong>.</p>
<p>Il est inspiré du Modèle View View-Model (<strong>MVVM</strong>).</p>
<hr>
<h1 id="prérequis-et-installation">Prérequis et installation<a href="#prérequis-et-installation" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p> 
Il est nécessaire pour utiliser et installer les <strong>outils en ligne de commande de Vue.js</strong> d&rsquo;avoir <strong>Node.js et npm</strong> installés.</p>
<p>Une fois ceux-ci configurés sur votre machine il faut utiliser la commande</p>
<blockquote>
<p>(sudo) npm install -g @vue/cli</p>
</blockquote>
<p> 
Pour installer l&rsquo;interface en ligne de commande de Vue.js.
Si l&rsquo;installation s&rsquo;est correctement déroulée vous devriez pouvoir utiliser la commande <strong>vue</strong>.</p>
<hr>
<h1 id="utilisation-de-vue-cli">Utilisation de vue-cli<a href="#utilisation-de-vue-cli" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="commandes-principales">Commandes principales<a href="#commandes-principales" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><strong>create</strong> [options] app-name - <em>Créer un nouveau projet</em></li>
<li><strong>serve</strong> [options] (fichier) - <em>Lancer le serveur HTTP d&rsquo;un projet</em></li>
<li><strong>build</strong> [options] (fichier) - <em>Générer un build de production</em></li>
<li><strong>init</strong> [options] template app-name - <em>Créer un projet à partir d&rsquo;un des templates de <a href="https://github.com/vuejs-templates">https://github.com/vuejs-templates</a></em></li>
<li><strong>ui</strong> - <em>Démarre l&rsquo;interface utilisateur de gestion des projets Vue.js</em></li>
</ul>
<hr>
<h1 id="le-concept-de-composant">Le concept de &ldquo;composant&rdquo;<a href="#le-concept-de-composant" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Les composants Vue.js s&rsquo;inspirent librement des <a href="https://www.webcomponents.org/specs"><strong>spécifications des WebComponents</strong></a>.</p>
<p>Pour résumer ce qu&rsquo;est un composant: un composant est un bloc <strong>réutilisable</strong> et <strong>pouvant lui même contenir d&rsquo;autres composants</strong> associant :</p>
<ul>
<li>Du style (CSS)</li>
<li>Un template (HTML)</li>
<li>De la logique (JavaScript)
 </li>
</ul>
<p>L'<strong>intérêt principal</strong> de l&rsquo;utilisation de composants est <strong>architectural</strong>, ils permettent d'<strong>éviter de dupliquer du code</strong> et d&rsquo;avoir des <strong>templates HTML lisibles</strong>.</p>
<hr>
<h1 id="mount-et-shallowmount">Mount et ShallowMount<a href="#mount-et-shallowmount" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Le module <em>@vue/test-utils</em> inclut plusieurs classes et méthodes qui facilitent les tests unitaires des composants.</p>
<p>Notamment les fonctions <strong>mount et shallowMount</strong> qui permettent d&rsquo;instancier un composant à l&rsquo;intérieur d&rsquo;un <strong>wrapper</strong>, ce qui rend possibles les intéractions avec des composants au sein des tests.
 </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">wrapper</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">mount</span>(<span style="color:#a6e22e">MyComponent</span>)
<span style="color:#a6e22e">assert</span>(<span style="color:#a6e22e">wrapper</span>.<span style="color:#a6e22e">name</span>() <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;MyComponent&#39;</span>)
</code></pre></div><p> </p>
<p>La différence entre mount et shallowMount est que shallowMount remplace les méthodes et composants enfants par des <em>stubs</em> : des éléments vides de remplacement.</p>
<hr>
<h1 id="les-principales-méthodes-de-lobjet-wrapper">Les principales méthodes de l&rsquo;objet Wrapper<a href="#les-principales-méthodes-de-lobjet-wrapper" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><em>Un wrapper possède plusieurs méthodes nous permettant d&rsquo;intéragir avec un composant monté, voici une liste non exhaustive de celles dont nous nous servirons :</em></p>
<ul>
<li>
<p><strong>vm</strong> : Contient l&rsquo;instance de l&rsquo;objet Vue crée.</p>
</li>
<li>
<p><strong>find(<em>CSSselector</em>)</strong>	: Chercher un élément par son sélecteur</p>
</li>
<li>
<p><strong>findAll(<em>CSSselector</em>)</strong> : Chercher plusieurs éléments</p>
</li>
<li>
<p><strong>setData(<em>data</em>)</strong> : Mettre à jour la <strong>data</strong> d&rsquo;un composant</p>
</li>
<li>
<p><strong>setProps(<em>props</em>)</strong> : Mettre à jour les <strong>props</strong> d&rsquo;un composant</p>
</li>
<li>
<p><strong>html()</strong> : Retourne une chaîne de texte contenant la représentation HTML du composant</p>
</li>
<li>
<p><strong>text()</strong> : Retourne le texte brut compris dans le composant</p>
</li>
</ul>
<hr>
<h1 id="hands-on">Hands-on!<a href="#hands-on" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p> </p>
<ul>
<li>Création de notre premier projet Vue.js</li>
<li>Présentation du projet Message Board</li>
<li>Spécifications et premières modifications</li>
</ul>
<hr>
<h1 id="les-principales-options-des-composants">Les principales options des composants<a href="#les-principales-options-des-composants" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<ul>
<li><strong>name</strong> : Le nom du composant</li>
<li><strong>data</strong> : Une fonction qui retourne les attributs du composant</li>
<li><strong>methods</strong> : Les méthodes explicitées du composant</li>
<li><strong>components</strong>: Les dépendances du composant</li>
<li><strong>props</strong> : Les attributs passés par le composant parent</li>
<li><strong>computed</strong> : Les valeurs à traiter avant leur affichage</li>
</ul>
<hr>
<h1 id="la-liaison-de-données-data-binding">La liaison de données (data-binding)<a href="#la-liaison-de-données-data-binding" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Le premier moyen de lier une information entre deux composants est le <strong>data-binding parent vers enfant</strong>.</p>
<p>On envoie une information d&rsquo;un composant <strong>parent</strong> vers <strong>un autre composant</strong> qui est utilisé dans son template (son composant <strong>enfant</strong>).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">enfant</span>&gt;&lt;/<span style="color:#f92672">enfant</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
export default { name: &#34;Parent&#34; }
</code></pre></div><hr>
<p> </p>
<h1 id="utilisation-des-props">Utilisation des props<a href="#utilisation-des-props" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Pour qu&rsquo;un composant puisse reçevoir des informations de ses parents, il est nécessaire de définir les attributs qui pourront lui être envoyés.</p>
<p>C&rsquo;est le rôle de la méta-donnée &ldquo;props&rdquo;: elle contient des définitions de l&rsquo;ensemble des paramètres qu&rsquo;un composant pourra accepter.</p>
<blockquote>
<p><strong>Note</strong>: Essayez d&rsquo;être aussi précis que possible dans la définition de vos props</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
	<span style="color:#a6e22e">props</span><span style="color:#f92672">:</span> {
    		<span style="color:#a6e22e">author</span><span style="color:#f92672">:</span> {
    			<span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> String,
        		<span style="color:#a6e22e">required</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
        		<span style="color:#a6e22e">validator</span><span style="color:#f92672">:</span> () =&gt; {}
        	}, 
        	<span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> String }}
</code></pre></div><hr>
<h1 id="la-liaison-de-données-parent-vers-enfant">La liaison de données parent vers enfant<a href="#la-liaison-de-données-parent-vers-enfant" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Plusieurs manières d&rsquo;afficher de la donnée dynamiquement dans le template d&rsquo;un composant
 </p>
<ul>
<li><strong>moustaches</strong> :</li>
</ul>
<pre><code>&lt;h1&gt;{{ data }}&lt;/h1&gt;
</code></pre><ul>
<li><strong>v-text</strong> :</li>
</ul>
<pre><code> &lt;h1 v-text=&quot;data&quot;&gt;&lt;/h1&gt; // n'est pas watchée
</code></pre><ul>
<li><strong>interpolation d&rsquo;expressions dans des moustaches</strong> :</li>
</ul>
<pre><code>&lt;h3&gt;{{ data + new Date() }}&lt;/h3&gt;
</code></pre><hr>
<h1 id="les-slots">Les slots<a href="#les-slots" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Il est également possible de faire passer des informations de template d&rsquo;un composant parent vers un composant enfant en utilisant des slots.</p>
<p>Pour ce faire, on utilise une balise <strong>slot</strong> dans le composant enfant à l&rsquo;endroit où on souhaite afficher le template passé par le parent.</p>
<p>Dans le composant parent il suffira de mettre un template HTML entre les balises du composant enfant, comme ceci :</p>
<pre><code>&lt;my-component&gt;
	&lt;h1&gt;This will replace the slot in MyComponent&lt;/h1&gt;
&lt;/my-component&gt;
</code></pre><hr>
<h1 id="les-directives">Les directives<a href="#les-directives" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Les directives <strong>sont des composants ne comportant pas  de template</strong>. 
 
Elles permettent d&rsquo;associer de la logique à un élément de template <strong>déjà existant</strong>.</p>
<p>Il est possible de définir nos propres directives, en créant un objet Vue.directive (nous y reviendrons) mais il existe déjà un certain nombre de directives <strong>prédéfinies dans le framework</strong>.</p>
<hr>
<h1 id="les-directives-vuejs-prédéfinies">Les directives Vue.js prédéfinies<a href="#les-directives-vuejs-prédéfinies" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<ul>
<li><strong>v-text</strong> : Permet de lier une variable au contenu &lsquo;text&rsquo; de l&rsquo;élément sélectionné</li>
<li><strong>v-bind ( alias ‘:’ )</strong> : Permet de lier une variable locale à un attribut d&rsquo;un élément de votre template</li>
<li><strong>v-if / v-else-if / v-else</strong> : Permet d&rsquo;ajouter des conditions à l&rsquo;ajout d&rsquo;un élément dans le DOM</li>
<li><strong>v-show</strong> : Permet d&rsquo;afficher ou non un élément (display en CSS) en fonction d&rsquo;une condition</li>
<li><strong>v-for</strong> : Permet d&rsquo;itérer sur les éléments d&rsquo;un tableau</li>
<li><strong>v-on</strong> ( alias ‘@’ ) : Permet de lier un comportement dans notre composant à un évènement</li>
<li><strong>v-model</strong> : Permer de lier la valeur d&rsquo;un input utilisateur (input, checkbox, radio, select…) à une variable de notre composant</li>
</ul>
<hr>
<h1 id="le-v-on-en-détail">Le v-on en détail<a href="#le-v-on-en-détail" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>La directive Vue.js v-on (ayant pour alias @) permet d&rsquo;associer un <a href="https://developer.mozilla.org/fr/docs/Web/Events">événement JavaScript</a> avec du comportement défini en JavaScript.</p>
<p>Par exemple pour déclencher une fonction au clic sur un bouton on fera comme ceci dans un composant :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">v-on:click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething()&#34;</span>&gt;&lt;/<span style="color:#f92672">button</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  	<span style="color:#a6e22e">doSomething</span>() {
  		<span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#39;Button clicked&#39;</span>);
  	}
  };
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><hr>
<h1 id="hands-on-1">Hands-on!<a href="#hands-on-1" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p> </p>
<ul>
<li>Création de données de Mock</li>
<li>Création de notre composant MessagesList</li>
<li>Premières intéractions entre composants</li>
</ul>
<hr>
<h1 id="la-liaison-de-donnée-enfant-vers-parent">La liaison de donnée enfant vers parent<a href="#la-liaison-de-donnée-enfant-vers-parent" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Nous allons maintenant voir comment faire passer une information du composant enfant vers le composant parent.</p>
<p>Le paradigme est ici légèrement différent, on va utiliser le système d&rsquo;évènements pour remonter des informations du composant enfant vers le composant parent.</p>
<p>On déclenche notre évènement dans le composant enfant avec la méthode</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$emit</span>(<span style="color:#e6db74">&#39;hello&#39;</span>)
</code></pre></div><p>Il suffira ensuite d&rsquo;écouter cet évènement dans le composant parent avec la directive <strong>v-on</strong>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">parent</span> <span style="color:#a6e22e">v-on:hello</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething()&#34;</span>/&gt;
</code></pre></div><hr>
<h1 id="utilisation-avancée-du-wrapper">Utilisation avancée du wrapper<a href="#utilisation-avancée-du-wrapper" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><em>Il est maintenant temps de voir d&rsquo;autres méthodes du <strong>wrapper</strong> qui vont nous servir dans nos prochains tests :</em></p>
<ul>
<li><strong>contains(<em>selector or component</em>)</strong> : Retourne <strong>true</strong> si un élément est contenu dans le composant. Sinon <strong>false</strong>.</li>
<li><strong>wrapper.emitted()</strong> : Retourne un objet contenant les évènements émis par le composant.</li>
<li><strong>wrapper.trigger()</strong> : Permet de déclencher un évènement dans le <strong>DOM</strong> de l&rsquo;élément sélectionné.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: wrapper.trigger peut être utilisé à la suite d&rsquo;un find(), par exemple :</p>
</blockquote>
<pre><code>wrapper.find('button').trigger('click')
</code></pre><hr>
<h1 id="le-cycle-de-vie-des-composants">Le cycle de vie des composants<a href="#le-cycle-de-vie-des-composants" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>L'<strong>affichage</strong>, la <strong>mise à jour</strong> et la <strong>destruction</strong> des composants Vue.js sont des actions gérées par le framework, nous n&rsquo;avons pas à spécifier lorsqu&rsquo;il faut ajouter ou retirer un composant du DOM.</p>
<p>En revanche, Vue.js nous permet d&rsquo;effectuer certaines actions à des moments précis du cycle de vie de nos composants à l&rsquo;aide de <strong>crochets (hooks)</strong>.</p>
<p>Pour les utiliser, il suffit d&rsquo;implémenter les méthodes éponymes à l&rsquo;intérieur de notre composant.</p>
<p>Les hooks qui nous seront les plus utiles sont :</p>
<p><strong>Created, Mounted, Updated et Destroyed.</strong></p>
<hr>
<h1 id="schéma-du-cyle-de-vie-dun-composant">Schéma du cyle de vie d&rsquo;un composant<a href="#schéma-du-cyle-de-vie-dun-composant" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><img src="https://cdnsite1.assist.ro/sites/default/files/styles/big/public/images/blog/Vue-instance-lifecycle-Page-1.png?itok=OdC8TOWx" alt="lifecycle schema"></p>
<hr>
<h1 id="le-concept-de-store">Le concept de Store<a href="#le-concept-de-store" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="state-management-pattern">(State Management Pattern)<a href="#state-management-pattern" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Vue.js utilise <strong>Vuex</strong> comme système de gestion d&rsquo;état. 
Vuex est similaire à Redux dans son fonctionnement en de nombreux points :</p>
<p>Vuex et Redux permettent de créer des <strong>stores</strong>.</p>
<p>Un <strong>store</strong> sert à garder un <strong>état (state)</strong> en mémoire au sein d&rsquo;une WebApplication.</p>
<p>Tous nos <strong>composants</strong> peuvent effectuer des <strong>modifications (mutations)</strong> sur cet état.</p>
<p>Les <strong>composants</strong> peuvent à tout moment accéder à l'<strong>état</strong> du store et être <strong>notifiés</strong> en cas de modifications de celui-ci.</p>
<hr>
<h1 id="schéma-store-vuex">Schéma Store Vuex<a href="#schéma-store-vuex" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><img src="https://fr.vuejs.org/images/state.png" alt=""></p>
<hr>
<h1 id="utilisation-de-vuex">Utilisation de Vuex<a href="#utilisation-de-vuex" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><a href="https://vuex.vuejs.org/">Vuex</a> est un module séparé du module core de Vue.js.</p>
<p>Il faut l&rsquo;installer (si ce n&rsquo;est pas déjà fait)</p>
<blockquote>
<p>npm install vuex &ndash;save</p>
</blockquote>
<p>et ensuite ajouter le module à notre projet Vue en ajoutant dans notre main.js :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vuex</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vuex&#39;</span>
<span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">use</span>(<span style="color:#a6e22e">Vuex</span>)
</code></pre></div><p> 
Nous allons maintenant pouvoir créer notre premier <strong>store</strong>!</p>
<hr>
<h1 id="le-routage">Le routage<a href="#le-routage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Le routeur de Vue.js est un module séparé du module <em>core</em> Vue.js.</p>
<p>Une fois qu&rsquo;il est installé il permet d&rsquo;instancier un objet <strong>Router</strong>, dont le constructeur prend en paramètre une liste des routes de notre application sous forme de tableau.</p>
<p>Chaque route doit au minimum décrire un <strong>path</strong> et y associer un <strong>composant</strong> ou une <strong>redirection</strong>.</p>
<p>Il est d&rsquo;usage d&rsquo;ajouter <strong>un nom</strong> à chacune des routes crées.</p>
<blockquote>
<p><strong>Note</strong>: On peut utiliser des wildcards (*) sur les <strong>path</strong> des routes. Ce qui permet par exemple de matcher toutes les routes invalides avec <code>{path: '*'}</code></p>
</blockquote>
<hr>
<h1 id="hands-on-2">Hands-On!<a href="#hands-on-2" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<ul>
<li>Création d&rsquo;un store et de mutations</li>
<li>Ajout des parties utilisateur de l&rsquo;application</li>
</ul>
<hr>
<h1 id="le-mapstate">Le mapState<a href="#le-mapstate" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Maintenant que nous avons un peu plus en main l&rsquo;utilisation de <strong>Vuex</strong>, nous pouvons aborder les <strong>mapGetters</strong> et <strong>mapState</strong> qu&rsquo;il propose.</p>
<p><strong>mapState</strong> permet de mapper des propriétés de l&rsquo;état d&rsquo;un store à une propriété <em>computed</em> d&rsquo;un composant.</p>
<p>Il prend en paramètre un tableau :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
	<span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">mapState</span>([<span style="color:#e6db74">&#39;login&#39;</span>, <span style="color:#e6db74">&#39;avatar&#39;</span>, ])
    	<span style="color:#75715e">// this.login &amp;&amp; this.avatar
</span><span style="color:#75715e"></span>}
</code></pre></div><p>Ou un tableau associatif, permettant de nommer les propriétés <em>computed</em> :</p>
<pre><code>computed: mapState({userLogin: 'login', 
userAvatar: 'avatar' })
</code></pre><hr>
<h1 id="le-mapgetters">Le mapGetters<a href="#le-mapgetters" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Nous utiliserons en priorité le <strong>mapGetters</strong>, il est conseillé d&rsquo;utiliser des getters plutôt que directement le <strong>state</strong> d&rsquo;un store !</p>
<p>Celui-ci fonctionne comme <strong>mapState</strong> mais associe un <strong>getter</strong> à <strong>une propriété computed</strong>. 
La syntaxe est aussi quelque peu différente, on utilisera le <em>spread</em> d&rsquo;ES6 ici car mapGetters retourne un tableau:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
	<span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {... <span style="color:#a6e22e">mapGetters</span>(
    			[<span style="color:#e6db74">&#39;getLogin&#39;</span>, 
                         <span style="color:#e6db74">&#39;getAvatar&#39;</span>]) }
    	<span style="color:#75715e">// this.getLogin &amp;&amp; this.getAvatar
</span><span style="color:#75715e"></span>}
</code></pre></div><hr>
<h1 id="liaison-de-classes-et-styles">Liaison de classes et styles<a href="#liaison-de-classes-et-styles" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Nous avons jusqu&rsquo;ici eu une utilisation relativement classique de la directive v-bind.</p>
<p>Il est en réalité également possible de s&rsquo;en servir pour associer du style et des classes à des propriétés JavaScript.</p>
<p>Vue.js permet de gérer simplement les modifications de style et de classes à l&rsquo;aide d&rsquo;objets, plutôt que de chaînes de caractères.</p>
<p>Par exemple, pour changer la classe et la couleur du texte d&rsquo;un élément en fonction d&rsquo;attributs d&rsquo;un composant :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">:style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{color: myCustomColor}&#34;</span>&gt;
  &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">:class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{selected: isSpanSelected}&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;

</code></pre></div><hr>
<h1 id="le-pattern-eventbus">Le pattern EventBus<a href="#le-pattern-eventbus" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Jusqu&rsquo;à présent nous avons émis nos évènements directement depuis nos composants. 
C&rsquo;est la manière basique d&rsquo;écrire une gestion d&rsquo;évènements en Vue.js, nous allons maintenant aborder le pattern <strong>EventBus</strong> qui propose de centraliser la gestion des évènements dans un seul composant Vue.js.</p>
<p>L&rsquo;intêret est de faire communiquer facilement des composants sans qu&rsquo;ils aient une relation de parenté.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>()
</code></pre></div><pre><code>import eventBus from '@/eventBus'
eventBus.$emit('refresh') // Pour l'envoi
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">eventBus</span>.<span style="color:#a6e22e">$on</span>(<span style="color:#e6db74">&#39;refresh&#39;</span>, () =&gt; {...}) <span style="color:#75715e">// Pour l&#39;écoute
</span></code></pre></div><hr>
<h1 id="outils-de-débogage">Outils de Débogage<a href="#outils-de-débogage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Il existe une suite d&rsquo;outils <em>officielle</em> pour Vue.js : les <strong>Vue DevTools</strong>, disponibles sous forme d&rsquo;extension <strong><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd">Chrome</a></strong> et <strong><a href="https://addons.mozilla.org/fr/firefox/addon/vue-js-devtools/">Firefox</a></strong>.</p>
<p><img src="https://lh3.googleusercontent.com/FoLCsgdXeNyJkiM3uPn6wgbSg_BCfx53XgBHIS5QvhjbRULiFp00eNqkZcUotgasqSm9uh-5LQ=w640-h400-e365" alt="Vue Devtools"></p>
<p>Une fois l&rsquo;extension installée, un onglet <strong>Vue</strong> est disponible dans les outils de développement du navigateur.</p>
<hr>
<h1 id="axios">axios<a href="#axios" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><strong>Axios</strong> est une bibliothèque JavaScript pouvant être utilisée côté client et serveur (en Node.js) et qui permet de faire des requêtes réseau.
 
<strong>Vue.js</strong> ne prenant pas en charge la gestion des requêtes <strong>HTTP</strong>, nous utiliserons <strong>axios</strong> pour effectuer nos échanges.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">axios</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;axios&#39;</span>

<span style="color:#a6e22e">axios</span>
.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;https://hack.courses&#39;</span>)
.<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">response</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">response</span>))
.<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">e</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">e</span>))

</code></pre></div><hr>
<h1 id="les-mixins">Les mixins<a href="#les-mixins" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Il n&rsquo;est pas nécessaire de réecrire 100% du code de vos composants si certaines parties sont similaires.</p>
<p>Vue.js intègre un système de <strong>mixins</strong> très simple à prendre en main.</p>
<p>Vous pouvez séparer la partie du code que vous souhaitez partager dans une <strong>mixin</strong> :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">annoyingMixin</span> <span style="color:#f92672">=</span> {
	<span style="color:#a6e22e">created</span>() {
    		<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; created&#39;</span>);
    	}
}
</code></pre></div><p>Il suffit ensuite de l&rsquo;ajouter à la propriété <strong>mixins</strong> d&rsquo;un composant :</p>
<pre><code>export default { mixins: [annoyingMixin] }
</code></pre><hr>
<h1 id="les-modules-vuex">Les modules Vuex<a href="#les-modules-vuex" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Jusqu&rsquo;ici nous nous sommes contentés de mettre toutes les informations et mutations de notre <strong>store</strong> dans un module unique.</p>
<p>Notez qu&rsquo;il est également possible de découper un <strong>store Vuex</strong> en modules, chaque module possédant ses propres <strong>mutations, actions, getters, modules</strong> et son <strong>état</strong>.</p>
<p>On va définir un module de la sorte :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">module</span> <span style="color:#f92672">=</span> {
	    <span style="color:#a6e22e">state</span><span style="color:#f92672">:</span> {...},
	    <span style="color:#a6e22e">mutations</span><span style="color:#f92672">:</span> {...},
    	    <span style="color:#a6e22e">getters</span><span style="color:#f92672">:</span> {...}
}
</code></pre></div><p>Et l&rsquo;ajouter à notre store :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">store</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vuex</span>.<span style="color:#a6e22e">Store</span>({
	<span style="color:#a6e22e">modules</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">module</span> } <span style="color:#75715e">//  =&gt; store.state.a
</span></code></pre></div><hr>
<h1 id="écriture-de-directives-personnalisées">Écriture de directives personnalisées<a href="#écriture-de-directives-personnalisées" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Nous avons souvent utilisé les directives prédéfinies de Vue.js, il est également possible de créer nos propres directives personnalisées.</p>
<p>La syntaxe est légèrement différente à la création d&rsquo;un composant :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">directive</span>(<span style="color:#e6db74">&#39;bold&#39;</span>, {<span style="color:#75715e">/*directive content*/</span>})
</code></pre></div><p>Les directives possèdent également un cycle de vie différent des composants, avec les <strong>hooks</strong> suivants :</p>
<ul>
<li><strong>bind(<em>element, bindings</em>)</strong> : Appellé la première fois qu&rsquo;une directive est liée à un élément</li>
<li><strong>inserted(<em>element, bindings</em>)</strong> : Appellé quand l&rsquo;élément lié a été injecté dans son parent.</li>
<li><strong>update(<em>element, bindings</em>)</strong> : Appellé après chaque changement du composant contenant la directive.</li>
</ul>
<hr>
<h1 id="element-et-bindings-">Element et bindings ?!<a href="#element-et-bindings-" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Ces deux paramètres sont passés aux <strong>hooks</strong> des directives Vue.js.</p>
<p><strong>Element</strong> contient une référence à l&rsquo;élément du <strong>DOM</strong> sur lequel est appliquée la directive.</p>
<p><strong>Bindings</strong> est un objet plus vaste : il contient plusieurs informations sur la liaison entre notre directive et l&rsquo;élément auquel elle est rattachée :</p>
<ul>
<li><strong>name</strong> : le nom de la directive</li>
<li><strong>value</strong> : la valeur passée à la directive</li>
<li><strong>expression</strong> : l’expression liée en tant que chaine de caractères</li>
<li><strong>arg</strong> : l’argument passé à la directive</li>
<li><strong>modifiers</strong> : un objet contenant les modificateurs de la directive</li>
</ul>
<hr>
<h1 id="filtres">Filtres<a href="#filtres" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Vue.js permet de créer des filtres qui pourront être utilisés pour formater des informations avant de les afficher.</p>
<p>Les filtres s&rsquo;utilisent comme ceci dans un template :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">{{ <span style="color:#a6e22e">unixTimeStamp</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">dateFilter</span> }}
</code></pre></div><p>La définition d&rsquo;un filtre utilise <strong>Vue.filter</strong> et utilise une fonction de transformation à laquelle sera passée la valeur à filtrer.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">filter</span>(<span style="color:#e6db74">&#39;dateFilter&#39;</span>, (<span style="color:#a6e22e">value</span>) =&gt; <span style="color:#a6e22e">moment</span>(<span style="color:#a6e22e">value</span>).<span style="color:#a6e22e">format</span>(
</code></pre></div><hr>
<h1 id="websockets">WebSockets<a href="#websockets" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Les <strong>WebSockets</strong> ont un fonctionnement inspiré des <strong>sockets</strong> TCP UNIX.</p>
<p>Elles sont basées sur le protocole <strong>HTTP</strong> et permettent d&rsquo;établir une connexion continue entre un client et un serveur.</p>
<p>Il existe une <strong>API</strong> JavaScript permettant de créer simplement une WebSocket et d&rsquo;écouter ses évènements.</p>
<pre><code>const ws = new WebSocket(url);
ws.onmessage = (message) =&gt; console.log(message);
</code></pre><hr>
<h1 id="fichier-de-style-global">Fichier de style global<a href="#fichier-de-style-global" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Dans une logique &ldquo;<strong>D</strong>on&rsquo;t <strong>R</strong>epeat <strong>Y</strong>ourself&rdquo;, il est possible grâce à WebPack de définir un fichier de style global pour notre application.</p>
<p>Les modifications de configuration de notre projet Vue.js se feront dans un fichier <strong>vue.config.js</strong>.</p>
<p>Pour ajouter un fichier SCSS global, il faudra y ajouter :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">css</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">loaderOptions</span><span style="color:#f92672">:</span> {
      <span style="color:#a6e22e">sass</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`@import &#34;@/style/global.scss&#34;;`</span>
      }}}

</code></pre></div><p>Ce qui forcera WebPack à charger le fichier /src/style/global.scss</p>
<blockquote>
<p><strong>Note</strong>: Il est évidemment possible de charger plusieurs fichiers de style</p>
</blockquote>
<hr>
<h1 id="les-transitions">Les transitions<a href="#les-transitions" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Vue.js possède un système de gestion des transitions d&rsquo;entrée et de sortie liées au <strong>v-if et v-show</strong>.</p>
<p>La première étape de leur utilisation est de spécifier qu&rsquo;un élément nécessitera une transition sur son apparition ou sa disparition en utilisant le composant <strong>transition</strong> :</p>
<pre><code>&lt;transition name=&quot;fade-in&quot;&gt;
	&lt;div v-if=&quot;show&quot;&gt;Hello World&lt;/div&gt;
&lt;/transition&gt;
</code></pre><p>Il va maintenant falloir définir la transition nommée &ldquo;fade-in&rdquo; que nous allons utilisée.</p>
<hr>
<p>Nous avons plusieurs classes à disposition, qui seront utilisées pour définir l&rsquo;état d&rsquo;un élément dans sa transition. Ce sont :</p>
<ul>
<li><strong>{transition}-enter</strong> : <em>État de départ, avant que l&rsquo;élément soit inséré.</em></li>
<li>{transition}-enter-active : <em>État actif appliqué pendant toute la phase d&rsquo;animation <strong>enter</strong>.</em></li>
<li><strong>{transition}-enter-to</strong> : <em>État de fin du enter, vient remplacer le {transition}-enter.</em></li>
<li><strong>{transition}-leave</strong> :  <em>État de départ, avant que l&rsquo;élément soit retiré</em></li>
<li>{transition}-leave-active : <em>État actif appliqué pendant toute la phrase d&rsquo;animation <strong>leave</strong>.</em></li>
<li><strong>{transition}-leave-to</strong> : <em>État de fin du leave, vient remplaçer le {transition}-leave.</em></li>
</ul>
<hr>
<h1 id="exemple-de-transition-css-utilisant-les-classes-de-transition">Exemple de transition CSS utilisant les classes de transition<a href="#exemple-de-transition-css-utilisant-les-classes-de-transition" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">fade-in-enter-to</span> {
  <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">1</span>;
}
.<span style="color:#a6e22e">fade-in-enter-active</span><span style="color:#f92672">,</span> .<span style="color:#a6e22e">fade-leave-active</span> {
  <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">opacity</span> <span style="color:#ae81ff">.5</span><span style="color:#66d9ef">s</span>;
}
.<span style="color:#a6e22e">fade-in-enter</span> {
  <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">0</span>;
}

</code></pre></div><hr>
<h1 id="déploiement">Déploiement<a href="#déploiement" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p> 
Pour déployer votre projet en production, c&rsquo;est très simple avec Vue.js, il suffit d&rsquo;utiliser le script</p>
<blockquote>
<p>npm run build</p>
</blockquote>
<p> 
Celui-ci va minifier/compiler l&rsquo;ensemble de vos fichiers pour tout assembler dans un dossier <strong>dist</strong> contenant votre projet prêt à être déployé en production sur votre serveur web!</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="/posts/es6/">
                <span class="button__icon">←</span>
                <span class="button__text">Programmation : EcmaScript6</span>
            </a>
        </span>
        
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>hosted by fenrir.pro</span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
